module.exports=[45391,e=>{"use strict";var a=e.i(44687);async function t(e){if(!e)return null;let t=String(e||"").trim();if(/^Bearer\s+/i.test(t)){let e=t.split(/\s+/)[1];if(e)try{let{data:t,error:i}=await a.supabaseAdmin.auth.getUser(e);if(!i&&t?.user?.id)return t.user.id}catch(e){}}if(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(e))return e;if(e.includes("@"))try{if(a.supabaseAdmin.auth&&a.supabaseAdmin.auth.admin&&"function"==typeof a.supabaseAdmin.auth.admin.listUsers){let t=await a.supabaseAdmin.auth.admin.listUsers({search:e});if(!t.error&&t.data&&Array.isArray(t.data.users)){let a=t.data.users.find(a=>(a.email||"").toLowerCase()===e.toLowerCase());if(a)return a.id}}try{let{data:t}=await a.supabaseAdmin.from("auth.users").select("id,email").eq("email",e).limit(1).maybeSingle();if(t&&t.id)return t.id}catch(e){}}catch(e){}return null}e.s(["resolveActorId",()=>t])}];

//# sourceMappingURL=lib_actorResolver_ts_88c95343._.js.map