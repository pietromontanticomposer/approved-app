<!DOCTYPE html><!--aNEmGeUoppxjwn8x5tMOD--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/23e13c45b8ab8aa9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/0bacd77891ba5f5c.js"/><script src="/_next/static/chunks/c4769791a2c00b9f.js" async=""></script><script src="/_next/static/chunks/c462f7822a1dbf4e.js" async=""></script><script src="/_next/static/chunks/c5b6e0c0fd2496d8.js" async=""></script><script src="/_next/static/chunks/turbopack-307c39c0f24bcdc7.js" async=""></script><script src="/_next/static/chunks/31f3c8bbaaf2f841.js" async=""></script><script src="/_next/static/chunks/99539129c42bbbef.js" async=""></script><script src="/_next/static/chunks/5e12cd52e6f0e646.js" async=""></script><script src="/_next/static/chunks/9bc28bac612ceed3.js" async=""></script><link rel="preload" href="https://unpkg.com/@supabase/supabase-js@2" as="script"/><link rel="preload" href="https://unpkg.com/wavesurfer.js@6" as="script"/><link rel="preload" href="/flow-auth.js" as="script"/><link rel="preload" href="/share-handler.js" as="script"/><link rel="preload" href="/flow.js" as="script"/><link rel="preload" href="/flow-init.js" as="script"/><title>Approved</title><meta name="description" content="Approved – project review workspace"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body style="margin:0;padding:0"><div hidden=""><!--$--><!--/$--></div><a href="/login" style="position:fixed;right:12px;top:12px;z-index:1000;background:#0f172a;color:#fff;padding:6px 8px;border-radius:6px;text-decoration:none;font-size:13px">Login</a><script>(self.__next_s=self.__next_s||[]).push([0,{"children":"\n            // Ensure initializer stubs exist early to avoid race when scripts load\n            window.initializeFromSupabase = window.initializeFromSupabase || (async function(){\n              console.warn('[InitStub] initializeFromSupabase called before implementation');\n            });\n            window.safeFetchProjectsFallback = window.safeFetchProjectsFallback || (async function(){\n              console.warn('[InitStub] safeFetchProjectsFallback called before implementation');\n              try {\n                const res = await fetch('/api/projects?debug=1', { credentials: 'same-origin', headers: { 'Accept': 'application/json' } });\n                if (res.ok) return res.json();\n              } catch (e) {\n                console.warn('[InitStub] fallback fetch failed', e);\n              }\n            });\n          ","id":"initialize-stub"}])</script><div><div class="app">
  <aside class="sidebar">
    <div class="logo">Approved</div>
    <button id="newProjectBtn" class="primary-btn full">+ New project</button>

    <div class="sidebar-section">
      <div class="tabs">
        <button class="tab-btn active" data-tab="my-projects">
          I miei progetti
        </button>
        <button class="tab-btn" data-tab="shared-with-me">
          Condivisi con me
        </button>
      </div>

      <div id="my-projects-tab" class="tab-content active">
        <ul id="projectList" class="project-list">
          <li class="project-item empty">
            No projects yet. Click "New project".
          </li>
        </ul>
      </div>

      <div id="shared-with-me-tab" class="tab-content">
        <ul id="sharedProjectList" class="project-list">
          <li class="project-item empty">
            No shared projects yet.
          </li>
        </ul>
      </div>
    </div>
  </aside>

  <main class="main">
    <header class="topbar">
      <div class="project-header-left">
        <div class="project-title-row">
          <div id="projectTitle" class="project-title">No project</div>
          <button
            id="projectMenuBtn"
            class="icon-btn"
            type="button"
            title="Project options"
            style="display: none"
          >
            ⋯
          </button>
        </div>
        <div id="projectMeta" class="project-meta">
          Click "New project" to get started
        </div>
      </div>
      <div class="topbar-actions">
        <button id="accountBtn" class="ghost-btn" onclick="window.location.href='/account'">
          Il mio account
        </button>
      </div>
    </header>

    <section class="upload-strip">
      <div id="globalDropzone" class="dropzone disabled">
        <strong>Drop media here</strong>
        <span>Create a project to start.</span>
      </div>

      <div class="naming-options">
        <label class="rename-toggle">
          <input type="checkbox" id="autoRenameToggle" />
          <span>Auto rename files (composer preset)</span>
        </label>
        <div class="naming-levels">
          <span class="level-label">Scheme:</span>
          <label class="level-option">
            <input type="radio" name="namingLevel" value="media" checked />
            <span>Media</span>
          </label>
          <label class="level-option">
            <input type="radio" name="namingLevel" value="cinema" />
            <span>Cinema</span>
          </label>
        </div>
      </div>
    </section>

    <section class="content">
      <!-- LEFT COLUMN -->
      <div class="left-column">
        <!-- PROJECT REFERENCES -->
        <div class="refs-card">
          <div class="refs-header">
            <div>
              <h2>Project references</h2>
              <div id="refsSubtitle" class="refs-subtitle">
                Upload script, storyboard, temp tracks, brief...
              </div>
            </div>
            <button id="refsToggleBtn" class="ghost-btn tiny">
              Show
            </button>
          </div>

          <div id="refsBody" class="refs-body">
            <div id="refsDropzone" class="refs-dropzone disabled">
              <strong>Drop reference files here</strong>
              <span>PDF, images, audio, video, zip…</span>
            </div>
            <div id="refsList" class="refs-list refs-list-empty">
              No reference files for this project.
            </div>
          </div>
        </div>

        <!-- CUE -->
        <h2>Project cues</h2>
        <div id="cueListSubtitle" class="cue-list-subtitle">
          No project yet. Click "New project".
        </div>
        <div id="cueList" class="cue-list cue-list-empty">
          No project. Click "New project" to get started.
        </div>
      </div>

      <!-- RIGHT COLUMN -->
      <div class="right-column">
        <div class="player-card">
          <div class="player-mode-toggle">
            <button
              id="modeReviewBtn"
              class="ghost-btn tiny player-mode-btn active"
            >
              Review versions
            </button>
            <button
              id="modeRefsBtn"
              class="ghost-btn tiny player-mode-btn"
            >
              Project references
            </button>
          </div>

          <div class="player-title-row">
            <div id="playerTitle" class="player-title">
              No version selected
            </div>
            <span id="playerBadge" class="player-badge" data-status="">
              No media
            </span>
          </div>

          <div id="playerMedia" class="player-preview">
            <div class="player-placeholder">
              Create a project and drop a file to see the player.
            </div>
          </div>

          <div class="player-controls">
            <button id="playPauseBtn" class="primary-btn small" disabled>
              Play
            </button>
            <!-- VOLUME SLIDER AUDIO ONLY -->
            <input
              id="volumeSlider"
              type="range"
              min="0"
              max="1"
              step="0.01"
              value="1"
              class="volume-slider"
            />
            <span id="timeLabel" class="time">--:-- / --:--</span>
          </div>

          <!-- VERSION STATUS BUTTONS -->
          <div class="status-controls">
            <button id="statusInReviewBtn" class="ghost-btn tiny">
              In review
            </button>
            <button id="statusApprovedBtn" class="ghost-btn tiny">
              Approved
            </button>
            <button id="statusChangesBtn" class="ghost-btn tiny">
              Changes requested
            </button>
          </div>
        </div>

        <div class="comments-card">
            <div class="comments-header">
              <h3>Comments</h3>
              <span id="commentsSummary" class="tag small">No comments</span>
            </div>
            <ul id="commentsList" class="comments-list"></ul>

            <div class="comment-input">
              <input
                id="commentInput"
                type="text"
                placeholder="Add a comment (auto timecode)…"
              />
              <button id="addCommentBtn" class="primary-btn small" disabled>
                Send
              </button>
            </div>
          </div>

          <div class="share-card">
            <div class="share-row">
              <div>
                <strong>Client link</strong>
                <div class="share-meta">
                  They can listen, comment and approve without an account.
                </div>
              </div>
              <button id="copyLinkBtn" class="ghost-btn small" disabled>
                Copy demo link
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  </div><script>(self.__next_s=self.__next_s||[]).push(["https://unpkg.com/@supabase/supabase-js@2",{}])</script><script>(self.__next_s=self.__next_s||[]).push(["https://unpkg.com/wavesurfer.js@6",{}])</script><!--$--><!--/$--><script>
              // Placeholder for SupabaseSync - will be populated by client-side code
              if (!window.SupabaseSync) {
                window.SupabaseSync = {
                  saveProject: async () => { console.warn('SupabaseSync not initialized'); },
                  loadProjects: async () => { console.warn('SupabaseSync not initialized'); return []; },
                  deleteProject: async () => { console.warn('SupabaseSync not initialized'); },
                  saveCue: async () => { console.warn('SupabaseSync not initialized'); },
                  deleteCue: async () => { console.warn('SupabaseSync not initialized'); },
                  saveVersion: async () => { console.warn('SupabaseSync not initialized'); },
                  deleteVersion: async () => { console.warn('SupabaseSync not initialized'); },
                  saveVersionFile: async () => { console.warn('SupabaseSync not initialized'); },
                  deleteVersionFile: async () => { console.warn('SupabaseSync not initialized'); },
                  saveComment: async () => { console.warn('SupabaseSync not initialized'); },
                  deleteComment: async () => { console.warn('SupabaseSync not initialized'); }
                };
              }
            </script><script src="/_next/static/chunks/0bacd77891ba5f5c.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"default\"]\n4:I[89849,[\"/_next/static/chunks/99539129c42bbbef.js\",\"/_next/static/chunks/5e12cd52e6f0e646.js\"],\"default\"]\n6:I[47257,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"ClientPageRoot\"]\n7:I[31713,[\"/_next/static/chunks/99539129c42bbbef.js\",\"/_next/static/chunks/5e12cd52e6f0e646.js\",\"/_next/static/chunks/9bc28bac612ceed3.js\"],\"default\"]\na:I[97367,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"OutletBoundary\"]\nb:\"$Sreact.suspense\"\nd:I[97367,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"ViewportBoundary\"]\nf:I[97367,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"MetadataBoundary\"]\n11:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/23e13c45b8ab8aa9.css\",\"style\"]\n5:T4f7,\n              // Placeholder for SupabaseSync - will be populated by client-side code\n              if (!window.SupabaseSync) {\n                window.SupabaseSync = {\n                  saveProject: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  loadProjects: async () =\u003e { console.warn('SupabaseSync not initialized'); return []; },\n                  deleteProject: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  saveCue: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  deleteCue: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  saveVersion: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  deleteVersion: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  saveVersionFile: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  deleteVersionFile: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  saveComment: async () =\u003e { console.warn('SupabaseSync not initialized'); },\n                  deleteComment: async () =\u003e { console.warn('SupabaseSync not initialized'); }\n                };\n              }\n            "])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"aNEmGeUoppxjwn8x5tMOD\",\"c\":[\"\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"__PAGE__\",{}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/23e13c45b8ab8aa9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/99539129c42bbbef.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/5e12cd52e6f0e646.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"margin\":0,\"padding\":0},\"children\":[[\"$\",\"a\",null,{\"href\":\"/login\",\"style\":{\"position\":\"fixed\",\"right\":12,\"top\":12,\"zIndex\":1000,\"background\":\"#0f172a\",\"color\":\"#fff\",\"padding\":\"6px 8px\",\"borderRadius\":6,\"textDecoration\":\"none\",\"fontSize\":13},\"children\":\"Login\"}],[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"$L4\",null,{}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$5\"}}]]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L6\",null,{\"Component\":\"$7\",\"serverProvidedParams\":{\"searchParams\":{},\"params\":{},\"promises\":[\"$@8\",\"$@9\"]}}],[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/9bc28bac612ceed3.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$La\",null,{\"children\":[\"$\",\"$b\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@c\"}]}]]}],{},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$Ld\",null,{\"children\":\"$@e\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$b\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@10\"}]}]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"8:{}\n9:\"$0:f:0:1:1:children:0:props:children:0:props:serverProvidedParams:params\"\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"12:I[27201,[\"/_next/static/chunks/31f3c8bbaaf2f841.js\"],\"IconMark\"]\n10:[[\"$\",\"title\",\"0\",{\"children\":\"Approved\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Approved – project review workspace\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L12\",\"3\",{}]]\nc:null\n"])</script></body></html>