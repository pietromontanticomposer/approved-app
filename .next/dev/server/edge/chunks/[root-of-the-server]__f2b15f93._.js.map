{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["// middleware.ts\nimport { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n\nexport async function middleware(req: NextRequest) {\n  const pathname = req.nextUrl.pathname\n\n  // Skip middleware for API routes, static files, and public assets\n  if (\n    pathname.startsWith('/api/') ||\n    pathname.startsWith('/_next/') ||\n    pathname.startsWith('/flow') ||\n    pathname.includes('.')\n  ) {\n    return NextResponse.next()\n  }\n\n  // Check for auth cookie\n  const token = req.cookies.get('sb-access-token')?.value\n\n  // Allow the app shell to load unauthenticated; client-side auth will redirect if needed.\n  // If already authenticated, keep users on the app instead of the login page.\n  if (token && pathname === '/login') {\n    const url = req.nextUrl.clone()\n    url.pathname = '/'\n    return NextResponse.redirect(url)\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: ['/', '/login']\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;AAChB;AAAA;;AAGO,eAAe,WAAW,GAAgB;IAC/C,MAAM,WAAW,IAAI,OAAO,CAAC,QAAQ;IAErC,kEAAkE;IAClE,IACE,SAAS,UAAU,CAAC,YACpB,SAAS,UAAU,CAAC,cACpB,SAAS,UAAU,CAAC,YACpB,SAAS,QAAQ,CAAC,MAClB;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,wBAAwB;IACxB,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,oBAAoB;IAElD,yFAAyF;IACzF,6EAA6E;IAC7E,IAAI,SAAS,aAAa,UAAU;QAClC,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;QAC7B,IAAI,QAAQ,GAAG;QACf,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAK;KAAS;AAC1B"}}]
}