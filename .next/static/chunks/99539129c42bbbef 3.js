(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89849,e=>{"use strict";var a=e.i(71645),i=e.i(53210);function r(){return(0,a.useEffect)(()=>{window.supabase=i.supabase,window.SupabaseSync={async saveProject(e){try{let{error:a}=await i.supabase.from("projects").upsert({id:e.id,name:e.name,description:e.description||null},{onConflict:"id"});if(a)throw a;return console.log("✅ Project saved:",e.id),!0}catch(e){return console.error("❌ Error saving project:",e),!1}},async loadProjects(){try{let{data:e,error:a}=await i.supabase.from("projects").select("id, name, description, created_at, updated_at, cues(id, project_id, index_in_project, original_name, name, display_name, status, versions(id, cue_id, index_in_cue, status, media_type, media_storage_path, media_url, media_original_name, media_display_name, media_duration, media_thumbnail_path, media_thumbnail_url, media_waveform_data))").order("created_at",{ascending:!0});if(a)throw a;return console.log("✅ Projects loaded:",e?.length||0),e||[]}catch(e){return console.error("❌ Error loading projects:",e),[]}},async saveCue(e,a){try{let{error:r}=await i.supabase.from("cues").upsert({id:a.id,project_id:e,index_in_project:a.index||a.indexInProject||0,original_name:a.originalName||null,name:a.name||null,display_name:a.displayName||null,status:a.status||"in-review"},{onConflict:"id"});if(r)throw r;return console.log("✅ Cue saved:",a.id),!0}catch(e){return console.error("❌ Error saving cue:",e),!1}},async saveVersion(e,a){try{let{error:r}=await i.supabase.from("versions").upsert({id:a.id,cue_id:e,index_in_cue:a.index||a.indexInCue||0,status:a.status||"in-review",media_type:a.media?.type||null,media_storage_path:a.media?.storagePath||null,media_url:a.media?.url||null,media_original_name:a.media?.originalName||null,media_display_name:a.media?.displayName||null,media_duration:a.media?.duration||null,media_thumbnail_path:a.media?.thumbnailPath||null,media_thumbnail_url:a.media?.thumbnailUrl||null},{onConflict:"id"});if(r)throw r;return console.log("✅ Version saved:",a.id),!0}catch(e){return console.error("❌ Error saving version:",e),!1}},async saveVersionFile(e,a){try{let{error:r}=await i.supabase.from("version_files").upsert({id:a.id,version_id:e,name:a.name,type:a.type||null,url:a.url||null,size:a.size||null},{onConflict:"id"});if(r)throw r;return console.log("✅ Version file saved:",a.id),!0}catch(e){return console.error("❌ Error saving version file:",e),!1}}},console.log("✅ SupabaseSync bridge initialized"),window.dispatchEvent&&window.dispatchEvent(new Event("supabase-sync-ready"))},[]),null}e.s(["default",()=>r])}]);